<div class="container-desktop">

  <section class="page-section">
    <laksh-section-title 
      *ngIf="data().title"
      [title]="data().title" 
      [subtitle]="data().subtitle">
    </laksh-section-title>
    <div class="section-content">
      <div *ngIf="data().description" class="block-description" [innerHTML]="data().description"></div>
      <div *ngIf="data().images && data().images.length > 0" class="gallery-grid">
        <div *ngFor="let image of data().images; let i = index" 
             class="gallery-item" 
             (click)="openLightbox(i)">
          <img [src]="getImageRoute(image)" [alt]="'Изображение галереи ' + (i + 1)">
          <div class="gallery-overlay">
            <div class="gallery-icon">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M21 21L15 15M21 21V18M21 21H18M3 3L9 9M3 3V6M3 3H6M21 3L15 9M21 3V6M21 3H18M3 21L9 15M3 21V18M3 21H6" 
                      stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

</div>

<!-- Lightbox -->
<div *ngIf="isLightboxOpen()" 
     class="lightbox" 
     (click)="closeLightbox()"
     (keydown)="onKeyDown($event)"
     tabindex="0">
  <div class="lightbox-content" (click)="$event.stopPropagation()">
    <button class="lightbox-close" (click)="closeLightbox()" aria-label="Закрыть">
      ✕
    </button>
    
    <button class="lightbox-prev" 
            (click)="prevImage()" 
            aria-label="Предыдущее изображение"
            *ngIf="data().images && data().images.length > 1">
      ‹
    </button>
    
    <div class="lightbox-image-container">
      <img [src]="getImageRoute(data().images![currentImageIndex()])" 
           [alt]="'Изображение галереи ' + (currentImageIndex() + 1)"
           class="lightbox-image">
    </div>
    
    <button class="lightbox-next" 
            (click)="nextImage()" 
            aria-label="Следующее изображение"
            *ngIf="data().images && data().images.length > 1">
      ›
    </button>
    
    <div class="lightbox-counter" *ngIf="data().images && data().images.length > 1">
      {{ currentImageIndex() + 1 }} / {{ data().images.length }}
    </div>
  </div>
</div>
